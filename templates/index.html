{% extends "layout.html" %}

{% block title %}
    Home
{% endblock %}

{% block main %}
<div style="display: flex;">
    <div style="flex: 1; overflow-y: auto; max-height: 80vh; padding-right: 20px; direction: ltr;">
        <div style="background-color: #f7f7f7; padding: 20px; border-radius: 10px;">
            <h2 style="margin-bottom: 10px;">Recent Entries</h2>
            {% for entry in entries %}
                <div style="border-bottom: 1px solid #ccc; padding-bottom: 10px; margin-bottom: 10px; white-space: nowrap;direction: ltr">
                    {{ entry }}
                </div>
            {% endfor %}
        </div>
        <form method="post">
            <fieldset>
                <div class="form-group" style="margin-top: -100px; direction: ltr";>
                    <form class="d-flex">
                        <input class="form-control me-2" type="text" placeholder="Start Typing" autofocus name="Entry" aria-label="Search">
                        <button class="btn btn-outline-success" style="margin-top: 3%;" type="submit">Search</button>
                      </form>
                </div>
            </fieldset>
            <!-- <div class="form-group">
                <button class="btn btn-default" style="font-size: 200%;" type="submit">Submit</button>
            </div> -->
        </form>
    </div>
    <div style="flex: 2;">
        <h1 class="text-start" style="font-size: 300%; margin-top: -20px; margin-left: 50px; font-style: normal; font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;">
            
        </h1>
        
    </div>
</div>

<h1>Top Flipkart Products</h1>
<div id="products-container"></div>

<script>
    const productsContainer = document.getElementById('products-container');
    const productDetails = [
        {% for details in product_details %}
            {
                title: "{{ details.title }}",
                price: "{{ details.price }}",
                image: "{{ details.image }}"
            },
        {% endfor %}
    ];

    productDetails.forEach(details => {
        const productItem = document.createElement('div');
        productItem.className = 'product-item';

        const productTitle = document.createElement('h2');
        productTitle.textContent = details.title;

        const productPrice = document.createElement('p');
        productPrice.textContent = `Price: ${details.price}`;

        const productImage = document.createElement('img');
        productImage.src = details.image;
        productImage.alt = details.title;

        productItem.appendChild(productTitle);
        productItem.appendChild(productPrice);
        productItem.appendChild(productImage);
        productsContainer.appendChild(productItem);
    });
</script>
{% endblock %}
